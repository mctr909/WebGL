<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>
<body>
    <canvas id="screen" width="800" height="800" style="background: #000000;"></canvas>
</body>
<script id="vs-code" type="x-shader/x-fragment">
    attribute vec2 vPos;
    attribute vec2 pPos;

    varying vec2 mPos;

    void main() {
        gl_Position = vec4(vPos, 0.0, 1.0);
        mPos = pPos;
    }
</script>
<script id="fs-code" type="x-shader/x-fragment">
    varying mediump vec2 mPos;

    void main() {
        mediump vec2 z = vec2(0.0, 0.0);
        mediump vec2 t = vec2(0.0, 0.0);
        int n = 0;

        for (int i = 0;i < 50;i++) {
            t.x = (z.x * z.x) - (z.y * z.y) + (mPos.x);
            t.y = (z.x * z.y * 2.0) + (mPos.y);
            z = vec2(t);
            if (length(z) > 2.0) {
                break;
            }
            n++;
        }

        if (n == 50) {
            gl_FragColor = vec4((mPos + vec2(1.5, 1.0)) / 2.0, 0.0, 1.0);
        } else {
            gl_FragColor = vec4(0.0, 0.0, float(n) / 50.0, 1.0);
        }
    }
</script>
<script type="text/javascript" src="EX01.js"></script>
</html>
